<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="bU{S~(/P+=9V.0c?~%LT">A</variable><variable id="#Gid)gmH}l#kR6N1b+XO">index</variable><variable id="TL2b`z|[K%B)zsCiO[7{">activation</variable></variables><block type="pxt-on-start" id="l;w~:Ml2n2hT=D@ZWs~[" x="356" y="0"><statement name="HANDLER"><block type="pin_set_audio_pin" id="VndE;g.nM17.d^%AV~T}"><field name="name">AnalogPin.P3</field><comment>On start the audio pin is set to p3</comment><next><block type="device_while" id="g?XzJG,Cj3_V{q!~KS+]"><comment>loops inside code forever</comment><value name="COND"><shadow type="logic_boolean" id="`zCT)UoJ|R[ZP6T-H7)z"><field name="BOOL">TRUE</field></shadow></value><statement name="DO"><block type="controls_if" id="]AjY?K0MI9cAErD@/rrQ"><comment>if "a"=0 the inside code is run</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="hZoK$)kU6N4|B)z=}e#S"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="#~1oL{SMF@04lZ`XvAb("><field name="VAR" id="bU{S~(/P+=9V.0c?~%LT">A</field></block></value><value name="B"><shadow type="math_number" id="~~!iPZ=Ws;Z`i1wMh$,T"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="device_show_leds" id="cdMQDFMLjNWE;neYaLfE"><field name="LEDS">`&#10;        # . . . # &#10;        . # . # . &#10;        . . # . . &#10;        . # . # . &#10;        # . . . #&#10;        `</field><comment>displays an x to function as a do not walk sign</comment><next><block type="device_set_digital_pin" id="Oj8x}okx+hYkX283]5/i"><field name="name">DigitalPin.P1</field><comment>turns off p1 (yellow light)</comment><value name="value"><shadow type="math_number_minmax" id="@bq/%OR4E9F;X+7!@U?_"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_set_digital_pin" id=")o2^L_R`%#}f)@:i(B`q"><field name="name">DigitalPin.P0</field><comment>turns on p0 (red light)</comment><value name="value"><shadow type="math_number_minmax" id=".Qu59#yFQ;KcR+UULS?|"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="device_pause" id=",zGLhuG^zjhq/CI#SL`r"><comment>pauses for 60s(red light stays on for 60 seconds)</comment><value name="pause"><shadow type="timePicker" id="%5,%iEA~RQ^mE(mKjt%P"><field name="ms">60000</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="mX%P7$GN8%oeupuLL,u6"><comment>functions the same as previous if statement, multiple are used so that the entire cycle doesn't have to finish before a malfunction can be triggered.</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="l:chJXF6tY%(L.=.SP4K"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="yr+Q.wB9f$N`l-+$9+.`"><field name="VAR" id="bU{S~(/P+=9V.0c?~%LT">A</field></block></value><value name="B"><shadow type="math_number" id="fv,u)YWR=M^g.H2OiEEQ"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="device_set_digital_pin" id="WgefU+:Or![r1UF:PhI]"><field name="name">DigitalPin.P0</field><comment>turns off p0(red light)</comment><value name="value"><shadow type="math_number_minmax" id="qKDfSd.=XOU.Sk4hsM9M"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_set_digital_pin" id="G5|+D`RacMvP[9!mkvqC"><field name="name">DigitalPin.P2</field><comment>turns on p2(green light)</comment><value name="value"><shadow type="math_number_minmax" id="P_WG4RSF)+|O)~u4!!GV"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="device_show_leds" id="/~ZhsKM;]3AqO+,*yQ1a"><field name="LEDS">`&#10;        . . # . . &#10;        . # # # . &#10;        . # # . # &#10;        . . # # . &#10;        . # . # .&#10;        `</field><comment>displays a walk symbol</comment><next><block type="pxt_controls_for" id="s@cg5~](tu*v^jPK[:Cj"><comment>loops inside code 19 times</comment><value name="VAR"><shadow type="variables_get_reporter" id="0*DYad~E(ll6+b!p,IR%"><field name="VAR" id="#Gid)gmH}l#kR6N1b+XO">index</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="Pv*o0dl~P3~4WYKzIl!^"><field name="NUM">18</field></shadow></value><statement name="DO"><block type="device_play_note" id="cDPD4V`qJ_U|zmr2yQb)"><comment>plays High A# for 1/16 beat</comment><value name="note"><shadow type="device_note" id=":E@Wy^RW}av6$Y0:(]nn"><field name="name">932</field></shadow></value><value name="duration"><shadow type="device_beat" id="(`McIc~T#Z4m8a(:Vf=v"><field name="fraction">BeatFraction.Sixteenth</field></shadow></value><next><block type="device_rest" id="T019f5oF*K4fDuG;*7Sx"><comment>pauses for 2 beats</comment><value name="duration"><shadow type="device_beat" id="z3h5%tzEaL231Fd~Uu(Y"><field name="fraction">BeatFraction.Double</field></shadow></value></block></next></block></statement><next><block type="pxt_controls_for" id="rOyf7OUeExEjk_lS*nr2"><comment>loops inside code 8 times</comment><value name="VAR"><shadow type="variables_get_reporter" id="ie+wH/3)K#L85gP|;|q?"><field name="VAR" id="#Gid)gmH}l#kR6N1b+XO">index</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="s@q=!%r+!H[.%`-L?]lb"><field name="NUM">8</field></shadow></value><statement name="DO"><block type="device_print_message" id="*)UgRcQO/{MLW=m]`pxV"><comment>counts down from 9 to 1</comment><value name="text"><shadow type="text"><field name="TEXT">Hello!</field></shadow><block type="math_arithmetic" id="4w|+WabfhR5s*s5z]u|6"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="H{$HDCnw8N;anFbf7$EH"><field name="NUM">9</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="me?KVlw9f?MA50qclTh0"><field name="VAR" id="#Gid)gmH}l#kR6N1b+XO">index</field></block></value></block></value><next><block type="device_play_note" id=",-v60=+$Xo3tq`,=-X^}"><comment>plays High A# for 4x the normal duration during the countdown so that visually impaired pedestrians know the walk cycle is ending soon</comment><value name="note"><shadow type="device_note" id=":R^Dr{fU;)nl9*sE9XU["><field name="name">932</field></shadow></value><value name="duration"><shadow type="device_beat" id="k{r*/lUffH;)b?5]A!7{"><field name="fraction">BeatFraction.Quarter</field></shadow></value><next><block type="device_rest" id="_GNNlBcr3T|`.ZjZ|4_M"><comment>pauses for 1/2 beat</comment><value name="duration"><shadow type="device_beat" id="`$]J5pMQ=~|gdWMDju@K"><field name="fraction">BeatFraction.Half</field></shadow></value></block></next></block></next></block></statement><next><block type="device_show_leds" id="A0oNsqxDY4@Rb4V)j3Zb"><field name="LEDS">`&#10;        # . . . # &#10;        . # . # . &#10;        . . # . . &#10;        . # . # . &#10;        # . . . #&#10;        `</field><comment>displays an "X" to function as a do not walk sign</comment><next><block type="device_pause" id="c#$w:*L8SDw)uY]XA3rH"><comment>pauses for 29.5 seconds(green light stays on for 29.5 seconds + 30.5 seconds during the previous code)</comment><value name="pause"><shadow type="timePicker" id="C/=PwPGs#DV[#VF`LA.c"><field name="ms">29500</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="controls_if" id="@?s-Nl8oeM$Z?x$$g!f5"><comment>functions the same as previous if statement, multiple are used so that the entire cycle doesn't have to finish before a malfunction can be triggered.</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="[ytXL|h3*K|V;!rAt69c"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id=";Lu:m1Eja0~,[jR$7K4/"><field name="VAR" id="bU{S~(/P+=9V.0c?~%LT">A</field></block></value><value name="B"><shadow type="math_number" id="(TFbjTP{uSXv,}2bZGAV"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="pxt_controls_for" id="G/E,n%4k8wj.Im:K/!pl"><comment>loops inside code 10 times</comment><value name="VAR"><shadow type="variables_get_reporter" id="$2dQ1UM9,!CaKF|yKi~j"><field name="VAR" id="#Gid)gmH}l#kR6N1b+XO">index</field></shadow></value><value name="TO"><shadow type="math_whole_number" id="JvSU](12WQ%ej|%o-d|,"><field name="NUM">9</field></shadow></value><statement name="DO"><block type="device_pause" id="^`h#sB~A|HROfgA!e^5#"><comment>pauses for half a second</comment><value name="pause"><shadow type="timePicker" id="-m4F838sd*OlwEZ@Hz.i"><field name="ms">500</field></shadow></value><next><block type="device_set_digital_pin" id="Q2)I~~Q0/bt_:HB!-9#%"><field name="name">DigitalPin.P2</field><comment>turns on p2 (green light)</comment><value name="value"><shadow type="math_number_minmax" id="*5%uFMIZTew~P2g)s{}R"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="device_pause" id="Jx-W[|tUl^BrRqR~9_[."><comment>pauses for half a second</comment><value name="pause"><shadow type="timePicker" id="`PK%8vTf]QJxch|b/N])"><field name="ms">500</field></shadow></value><next><block type="device_set_digital_pin" id="r!udp!MwwP)=`;OPo4`z"><field name="name">DigitalPin.P2</field><comment>turns off p2 (green light)</comment><value name="value"><shadow type="math_number_minmax" id="/_Bot.NU`6zn{r|`wOwc"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">0</field></shadow></value></block></next></block></next></block></next></block></statement><next><block type="device_set_digital_pin" id="`AgKks](w5L6T,5=Zgn-"><field name="name">DigitalPin.P1</field><comment>turns on p1 (yellow light)</comment><value name="value"><shadow type="math_number_minmax" id="gSFc-tlgr,h8yL-_$_73"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="device_pause" id="g;;#G$p6^Eu3tS77yV;h"><comment>pauses for 3.6 seconds (yellow light stays on for 3.6 seconds)</comment><value name="pause"><shadow type="timePicker" id="/gyOg1$1~P10WX[W7BPf"><field name="ms">3600</field></shadow></value></block></next></block></next></block></statement><next><block type="controls_if" id="2yAd~372hm(./Hqla*|:"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="bmF^YHx4x3hk3WI_p6;2"><field name="OP">OR</field><value name="A"><block type="logic_compare" id="wGx^Fh^J8vm5cOOHpsv`"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_digital_pin" id="iogagzL6q|X_zr0$XdlR"><field name="name">DigitalPin.P0</field></block></value><value name="B"><shadow type="math_number" id="w;WPT0bQTUhopi)`H;k?"><field name="NUM">1</field></shadow></value></block></value><value name="B"><block type="logic_compare" id="M7YZ([~;-_}j;np$%tjI"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_digital_pin" id="iPlLnW/aA@~O].|TdPD_"><field name="name">DigitalPin.P2</field></block></value><value name="B"><shadow type="math_number" id="`R0+^!=[cz[/{0@+=VG:"><field name="NUM">1</field></shadow></value></block></value></block></value><statement name="DO0"><block type="device_set_digital_pin" id="}0Ofm~U]HIHgaAT)j8)2"><field name="name">DigitalPin.P2</field><comment>turns off p2 (green light)</comment><value name="value"><shadow type="math_number_minmax" id="tnHrliHbF%xWW@xS0pvY"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_set_digital_pin" id="34FtHd~0Uc8uz`r07I6E"><field name="name">DigitalPin.P0</field><comment>turns off p0(red light)</comment><value name="value"><shadow type="math_number_minmax" id="EShlE|2G0+wNT:T6]w*g"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">0</field></shadow></value></block></next></block></statement><next><block type="controls_if" id="!kGJq{eC*^MCvs5Lh}D#"><mutation elseif="2"/><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="9SbL-opu6ACxK}FF{6q#"><field name="OP">EQ</field><comment>if "A"=1 the yellow light flashing malfunction is triggered</comment><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="=}siDgq8t5p[@BnQADbg"><field name="VAR" id="bU{S~(/P+=9V.0c?~%LT">A</field></block></value><value name="B"><shadow type="math_number" id="l9H*}?u92AwzR#DFYzTH"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="device_set_digital_pin" id="ie(cI7I-j/w+`/iwG)I$"><field name="name">DigitalPin.P1</field><comment>turns on p1(yellow light)</comment><value name="value"><shadow type="math_number_minmax" id="h~+JO?/7%RJ6KCR}3J,]"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="device_pause" id="l0q8%XP5TJ[*G89r.j@Q"><comment>pauses for .5 seconds</comment><value name="pause"><shadow type="timePicker" id="=G:ln-%Ax.(nP:$.+Y7="><field name="ms">500</field></shadow></value><next><block type="device_set_digital_pin" id="Zo{ku[[dXCdK^)@^$$xt"><field name="name">DigitalPin.P1</field><comment>turns off p1 (yellow light)</comment><value name="value"><shadow type="math_number_minmax" id="=S~$HH8KDDrM|F0;SJ$*"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_pause" id="[{[o_f4.5|E!oN.bx;lG"><comment>pauses for .5 seconds</comment><value name="pause"><shadow type="timePicker" id="oL^*$x/=67S|u6IIbNv;"><field name="ms">500</field></shadow></value></block></next></block></next></block></next></block></statement><value name="IF1"><block type="logic_compare" id="h,ZwRy@Lr[ZNO:r(2mig"><field name="OP">EQ</field><comment>If "A"=2 the red light flashing malfunction is triggered</comment><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="+Me^KmK;#gryGuNp$5-a"><field name="VAR" id="bU{S~(/P+=9V.0c?~%LT">A</field></block></value><value name="B"><shadow type="math_number" id="%bVP5F$6AD4bvLQA6=!`"><field name="NUM">2</field></shadow></value></block></value><statement name="DO1"><block type="device_set_digital_pin" id="fxnI2[P]Ky6$YqM--ZM1"><field name="name">DigitalPin.P0</field><comment>turns on p0(red light)</comment><value name="value"><shadow type="math_number_minmax" id="f7+%[URtIE(@KXP1[4Ug"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">1</field></shadow></value><next><block type="device_pause" id="B-0m6AcSLCZoX+-+_l,u"><comment>pauses for .5 seconds</comment><value name="pause"><shadow type="timePicker" id="K4n%jra%:S8Lwi+US_NB"><field name="ms">500</field></shadow></value><next><block type="device_set_digital_pin" id="toaD62_DY@C[-_2`n|oB"><field name="name">DigitalPin.P0</field><comment>turns off p0(red light)</comment><value name="value"><shadow type="math_number_minmax" id="M_wyOpCxw$ZCIaYdVy1P"><mutation min="0" max="1" label="Value" precision="0"/><field name="SLIDER">0</field></shadow></value><next><block type="device_pause" id="5IeEE%@[d+Ig-3}0/f-B"><comment>pauses for .5 seconds</comment><value name="pause"><shadow type="timePicker" id="Lt9cAnZhqzt]I(~d#f25"><field name="ms">500</field></shadow></value></block></next></block></next></block></next></block></statement><value name="IF2"><block type="logic_compare" id="TXH8zJgd6${Og9w5^t]d"><field name="OP">EQ</field><comment>If "A"=3 the loop deactivates</comment><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="ZE|Og%#*.$$OtE])!tD9"><field name="VAR" id="bU{S~(/P+=9V.0c?~%LT">A</field></block></value><value name="B"><shadow type="math_number" id="1Au_T^qsI@SY{|+^fbtk"><field name="NUM">3</field></shadow></value></block></value><statement name="DO2"><block type="device_clear_display" id="F?}pmV]iS~rx3}pr6(Rt"><comment>clears the screen</comment><next><block type="break_keyword" id="=/0m,`)sF6n#R1uX}0U0"><comment>breaks (stops) the loop</comment></block></next></block></statement></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block><block type="device_button_event" id="~GW;+$8=*WDeVu|qhKXK" x="1047" y="11"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="variables_change" id="a7_R@gIHK#JRGq`mG?uY"><field name="VAR" id="bU{S~(/P+=9V.0c?~%LT">A</field><comment>when A is pressed the "A" variable increases by 1</comment><value name="VALUE"><shadow type="math_number" id="D2+F](.Jp!.iYu)Yc2Qa"><field name="NUM">1</field></shadow></value><next><block type="controls_if" id="!i=L5Z4iUX*cn]QBL1Zh"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="SS@s)uz~poE.f5,=i~xY"><field name="OP">EQ</field><comment>if "A"=4 the system resets and the normal light cycle starts again</comment><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="tvIPtA8L@];0TOO}V/#A"><field name="VAR" id="bU{S~(/P+=9V.0c?~%LT">A</field></block></value><value name="B"><shadow type="math_number" id="MKDR9JjlgatTjf$CIlUV"><field name="NUM">4</field></shadow></value></block></value><statement name="DO0"><block type="control_reset" id="2~*ddMUr6GwQ,%xfV!B="><comment>resets the system</comment></block></statement></block></next></block></statement></block><block type="device_clear_display" id="HQ2c4:KyEhb`{dg%jOxk" disabled="true" x="0" y="3193"><comment>clears the screen</comment></block></xml>